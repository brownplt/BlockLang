<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="base.css">
    <script type="text/javascript" src="../closure-library/closure/goog/base.js"></script>
    <script type="text/javascript" src="ray-deps.js"></script>
    <script>
        goog.require('Ray.Main');
        goog.require('Ray.Shared');
        goog.require('Ray.Types');
        goog.require('Ray.JQuery');
        goog.require('goog.dom');
    </script>
    <style>
        .button {
            border: 1px solid blue;
            background: #65a9d7;
            border-radius: 13px;
            box-shadow: rgba(0,0,0,1) 0 1px 0;
            text-shadow: rgba(0,0,0,.4) 0 1px 0;
            color: #fcfcfc;
            font-size: 14px;
            font-family: sans-serif;
        }
        .button:hover {
            background: #28597a;
            color: #ccc;
        }
        .button:active {
            background: #1b435e;
        }

        .button2 {
            border: 1px solid red;
            background: indianred;
            border-radius: 13px;
            box-shadow: rgba(0,0,0,1) 0 1px 0;
            text-shadow: rgba(0,0,0,.4) 0 1px 0;
            color: #fcfcfc;
            font-size: 14px;
            font-family: sans-serif;
        }
        .button2:hover {
            background: orangered;
            color: #ccc;
        }
        .button2:active {
            background: darkred;
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        div#container {
            height: 100%;
            overflow: auto;
            margin: 0;
            padding: 0;
        }

        div#blocklyDiv {
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
            border-width: 0;
            border-style: solid;
            border-color: #fff;
        }

    </style>
    <script>
        window.$ = Ray.JQuery;

        var hello_block = {};
        hello_block.init = function() {
            this.makeTitleRow('hello');
            this.setOutputType(new Ray.Types.Unknown());
            this.appendValueInput('a')
                    .setType(new Ray.Types.Unknown());
        };
        var goodbye_block = {};
        goodbye_block.init = function() {
            this.makeTitleRow('goodbye');
            this.setOutputType(new Ray.Types.Unknown());
            this.appendValueInput('a')
                    .setType(new Ray.Types.Unknown());
            this.appendValueInput('b')
                    .setType(new Ray.Types.Unknown());
        };
        Blockly.Ray_ = Ray;
        Blockly.Ray_.Shared.set_blocks({'hello_block':hello_block, 'goodbye_block':goodbye_block});
        toolbox = '<xml id="toolbox" style="display: none;">' +
                  '<block type="hello_block"></block>' +
                  '<block type="goodbye_block"></block>' +
                  '</xml>';


        var separator = 100;
        var height = window.innerHeight;
        var width = window.innerWidth;
        var blocklyDiv = $("#blocklyDiv");
        blocklyDiv.height(height);
        blocklyDiv.width(width);
    </script>

</head>
<body>
<div id="container">
    <div id="blocklyDiv"></div>
    <script>
        $("#blocklyDiv").height(window.innerHeight);
        Blockly.inject(document.getElementById('blocklyDiv'),
                       {path : '../blockly/', toolbox: toolbox});
        setTimeout(function() {
            goog.dom.getElementsByTagNameAndClass('svg')[0].setAttribute(
                    'transform',
                    'scale(2)');
        }, 2000);

    </script>
</div>
</body>
</html>